## 컴퓨터 네트워크 기본 1

### 네트워크 구조

1. 네트워크 엣지(network edge)

- 랩탑, 데스크탑 같은 거. 웹 브라우저 같은 애플리케이션이 다 네트워크 엣지에서 돌아감.
  - 세부 분류
    - end system(hosts)
      : Web, email등이 여기 포함됨
    - client/server 모델
      : ex) Web browser/werver, email, client/server
    - peer-peer 모델
      : ex) 스카이트, 비트토렌트 등등..
- 인터넷의 가장자리(edge)를 차지하는 end system은 네트워크에 접속된 장비를 말한다.
- end system은 웹 브라우저나 이메일 같은 인터넷 응용 프로그램을 실행시킨다. 인터넷 응용 프로그램을 실행, 즉 호스트(host) 하기 때문에 end system은 호스트(host)라고 부르기도 한다.
- 데이터를 전송하는 방법

  - TCP(Transmission Control Protocol) 서비스

    - reliable, in-order byte stream data transfer(신뢰성 있고 순서대로 바이트 스트림 데이터를 전송한다)
      : TCP는 데이터를 전송한 그대로 받을 수 있게 신뢰성을 보장한다.
      : 우리가 파일을 전송하면 파일 데이터의 순서가 바뀌거나, 텍스트의 글자 순서가 갑자기 뒤바뀌는 일이 없게 한다.
    - flow control: sender won't overwhelm receiver(순서 제어: 송신자는 수신자가 받을 수 있는 속도보다 빨리 전달할 수 없다)
      : TCP는 신뢰성을 보장하기 때문에 수신 속도보다 전송 속도가 빠를 수 없다.

  - UDP(User Datagram Protocol) 서비스

    - 또 UDP 서비스도 데이터를 전송할 수 있게 해 준다. 그러나 TCP와 달리 UDP는 신뢰성이 낮다(unreliable). 순서대로 전송되지 않고 데이터가 전송한 그대로 도착한다는 보장도 없다.

  - 그럼 왜 TCP를 안쓰고 UDP를 쓰는 곳이 있냐 ?

    - TCP는 신뢰성을 보장하기 위해 네트워크 자원이 소모가 된다. 따라서 반드시 신뢰성을 보장할 필요가 없다면 TCP 대신 UDP 서비스를 이용해서 네트워크 자원을 아낄 수 있다.

  - 프로토콜(Protocol)은 무엇인가?
    : 간단히 말해 사람과 사람, 또는 기계와 기계간의 약속이다. 컴퓨터가 소통할 때 약속이 필요한데, 그 약속 중 하나가 바로 TCP, UDP이다.

2. 네트워크 코어 network core

- 라우터들이 주렁주렁 연결되어 있어서 데이터에 대한 전송을 쭉 해줌.
- 네트워크는 네트워크 엣지, 코어, 링크로 이루어져 있음.
- 네트워크 코어에서 데이터를 전송하는 방법

  1. 회선 교환(Circuit switching)
     : 회선 교환(Circuit switching) 방식은 전송할 데이터망을 미리 예약하는 방식이다. 곧 데이터가 전송될 경로를 예약해놓고 전송하는 셈이다. 2.패킷 교환(packet-switching)
     : 패킷 교환(packet-switching)은 데이터를 패킷(packet)이라는 단위로 포장해서, 각 라우터는 패킷이 들어오는 대로 전송한다.
     : 인터넷에서는 두 번째 방식을 사용한다. 왜냐면 속도 때문이다.

  - 다음과 같은 상황을 가정해보자.

    - 라우터에서는 1 Mbps의 속도로 데이터를 전송한다.
      (Mbps 또는 Mb/s: megabits per second의 약자로, 1 Mbps는 초당 1백만 비트를 전송함을 말한다.)
      유저는 활성화되어 있을 때, 100kb/s만큼의 자원을 이용한다.
      각 유저는 전체 시간의 10%만큼 활성화되어 있다.
      그렇다면 두 방식은 몇 명만큼의 유저를 수용할 수 있을까?
    - 회선 교환(circuit switching) 방식은 1 Mbps / 100 kbps = 10명의 유저만이 사용할 수 있다. 미리 회선을 예약해놓고, 예약된 회선은 반드시 그 사람만이 이용할 수 있다. 따라서 사용하지 않을 때에도 다른 유저는 그 회선을 이용할 수 없다.
    - 그에 반해 패킷 교환(packet switching)은 무한히 많은 유저가 사용할 수 있다. 인터넷 사용자 패턴에 따르면 모든 유저가 동시에 인터넷을 사용하지는 않기 때문이다. 다만 많은 유저가 동시에 네트워크를 이용하면, 라우터의 데이터 전송량보다 유저의 데이터 전송 요구량이 더 많아져서 문제가 생긴다. 위 같은 경우에는 10명보다 많은 유저가 접속하면 문제가 발생하므로, 확률적으로(여기서는 0.04%) 라우터가 혼잡해지게 된다.
    - 결론적으로 회선 교환은 낭비하는 네트워크 자원이 너무 많으므로 네트워크에서는 패킷 교환(packet-switching) 방식으로 데이터를 전송한다.

    3. 패킷 전송에서의 시간 지연
       : 컴퓨터 네트워크에서는 패킷 전송(packet-switching)으로 통신을 한다. 광속도로 데이터를 전송한다고 하는데, 사이트가 터지는 일은 왜 발생할까? 패킷 전송에서 시간 지연이 발생하는 원인은 네 가지가 있다.
       1. 노드 처리 지연(nodal processing delay)
          - 각 네트워크 노드(라우터)에서 데이터를 처음 받으면 제대로 전달되었는지, 전송받은 비트에 에러가 없는지 확인한다. 이 과정에서 발생한 지연을 Processing delay라 한다.
       2. 큐잉 지연(queueing delay)
          - 전송받은 패킷을 아예 저장하지 않는다면 어떻게 될까? 데이터 전송 속도보다 수신 속도가 느리면, 데이터를 모두 보내기 전에 다 유실되어 버릴 것이다. 따라서 라우터에서는 데이터를 전송받으면 큐에다가 집어넣는다. 패킷 데이터를 큐에 순서대로 넣어서, 다른 패킷이 모두 전송될 때까지 대기하는 데 시간이 걸리게 된다. 이 지연 시간을 queueing delay라 한다.
       3. Transmission delay
       - 첫 비트부터 마지막 비트까지를 링크(outgoing edge)에 올리는 데에 걸리는 시간을 말한다.
       4. Propagation delay
       - 링크를 따라 다음 라우터까지 전달되는 데에 걸리는 시간을 말한다.
       - 여기서 이 지연시간을 줄이고 인터넷 속도를 개선하려면 어떻게 할까? 우리는 첫 번째, 두 번째 지연만을 줄일 수 있다.
       1. Processing delay : 라우터를 좋은 걸 쓴다.
       2. Transmission delay : 케이블 밴드를 확장한다.
